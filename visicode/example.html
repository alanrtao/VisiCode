<link rel="stylesheet" href="highlight/styles/vs.min.css">
<script src="highlight/highlight.min.js"></script>

<pre><code class="language-typescript" style="font-family: 'Courier New', Courier, monospace">
<span class="hljs-comment">// The module &#x27;vscode&#x27; contains the VS Code extensibility API</span>
<span class="hljs-comment">// Import the module and reference it with the alias vscode in your code below</span>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> vscode <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vscode&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">FoodPyramidHierarchyProvider</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./FoodPyramidHierarchyProvider&#x27;</span>;
<span class="hljs-keyword">import</span> { <span class="hljs-title class_">TextDecoder</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;util&#x27;</span>;

<span class="hljs-comment">// this method is called when your extension is activated</span>
<span class="hljs-comment">// your extension is activated the very first time the command is executed</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">activate</span>(<span class="hljs-params">context: vscode.ExtensionContext</span>) {
    <span class="hljs-comment">// Use the console to output diagnostic information (console.log) and errors (console.error)</span>
    <span class="hljs-comment">// This line of code will only be executed once when your extension is activated</span>
    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Congratulations, your extension &quot;call-hierarchy-sample&quot; is now active!&#x27;</span>);

    <span class="hljs-keyword">const</span> disposable = vscode.<span class="hljs-property">languages</span>.<span class="hljs-title function_">registerCallHierarchyProvider</span>(<span class="hljs-string">&#x27;plaintext&#x27;</span>, <span class="hljs-keyword">new</span> <span class="hljs-title class_">FoodPyramidHierarchyProvider</span>());

    context.<span class="hljs-property">subscriptions</span>.<span class="hljs-title function_">push</span>(disposable);

    <span class="hljs-title function_">showSampleText</span>(context);
}
</code></pre>

<img src="https://i.scdn.co/image/ab6761610000e5ebd42a27db3286b58553da8858">

<pre><code class="language-typescript" style="font-family: 'Courier New', Courier, monospace">
<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">showSampleText</span>(<span class="hljs-params">context: vscode.ExtensionContext</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-built_in">void</span>&gt; {
    <span class="hljs-keyword">const</span> sampleTextEncoded = <span class="hljs-keyword">await</span> vscode.<span class="hljs-property">workspace</span>.<span class="hljs-property">fs</span>.<span class="hljs-title function_">readFile</span>(vscode.<span class="hljs-property">Uri</span>.<span class="hljs-title function_">file</span>(context.<span class="hljs-title function_">asAbsolutePath</span>(<span class="hljs-string">&#x27;sample.txt&#x27;</span>)));
    <span class="hljs-keyword">const</span> sampleText = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TextDecoder</span>(<span class="hljs-string">&#x27;utf-8&#x27;</span>).<span class="hljs-title function_">decode</span>(sampleTextEncoded);
    <span class="hljs-keyword">const</span> doc = <span class="hljs-keyword">await</span> vscode.<span class="hljs-property">workspace</span>.<span class="hljs-title function_">openTextDocument</span>({ <span class="hljs-attr">language</span>: <span class="hljs-string">&#x27;plaintext&#x27;</span>, <span class="hljs-attr">content</span>: sampleText });
    vscode.<span class="hljs-property">window</span>.<span class="hljs-title function_">showTextDocument</span>(doc);
}
</code></pre>